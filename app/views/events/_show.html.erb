<div class="modal fade" id="eventDetailsModal" tabindex="-1" aria-labelledby="eventDetailsModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="eventDetailsModalLabel">イベント詳細</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p id="eventDetailsTitle"></p>
        <p id="eventDetailsStart"></p>
        <p id="eventDetailsEnd"></p>
        <p id="eventNotifyTime" style="display: none;"></p>
      </div>
      <div class="modal-footer">
        <button type="button" id="editEventBtn" class="btn btn-primary">編集</button>
        <button type="button" class="btn btn-danger" id="delete-event">削除</button>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const editBtn = document.getElementById('editEventBtn');
    const deleteBtn = document.getElementById('delete-event');
    const editModal = new bootstrap.Modal(document.getElementById('editEventModal'));
    
    editBtn.addEventListener('click', function() {

      $('#eventDetailsModal').modal('hide');

      editModal.show();
    });

    deleteBtn.addEventListener('click', function() {
      const confirmDelete = confirm('このイベントを削除しますか？');
      if (confirmDelete) {
        const form = document.getElementById('edit-event-form');

        form.action = `/events/${form.dataset.eventId}/destroy`;
        form.method = 'post';
        form.submit();
      }
    });
  });
</script>